
---
# 系数据库大作业项目
### **项目概览书**  
**项目名称**：实时协作待办清单系统  
**版本**：1.0  
**目标**：开发一个支持多用户实时协作的待办事项管理系统，聚焦核心功能快速交付 MVP，采用容器化部署，便于后续扩展优化。

---

### **一、项目目标**
#### **核心功能（MVP）**
1. **用户模块**：注册、登录、登出（JWT 认证）。
2. **待办清单**：
   - 创建/删除清单。
   - 添加/编辑/删除待办事项（标题、状态、优先级）。
3. **实时同步**：多用户操作实时同步（如标记完成状态）。
4. **数据持久化**：SQL 数据库存储用户、清单及事项数据。
5. **容器化部署**：Docker Compose 一键部署前后端及数据库。

#### **扩展功能（后续迭代）**
- 多人协作权限管理。
- 任务提醒与截止时间。
- 操作历史记录。

---

### **二、技术选型**
| **模块**       | **技术栈**               | **说明**                                                                 |
|----------------|-------------------------|-------------------------------------------------------------------------|
| **前端**       | Vue 3 + JavaScript       | 响应式框架，组件化开发，简单易上手。                                       |
| **UI 组件库**  | Element Plus            | 提供按钮、表单、表格等组件，加速开发。                                     |
| **后端**       | Node. Js + Express       | 轻量级框架，快速构建 RESTful API。                                       |
| **数据库**     | PostgreSQL              | 关系型数据库，支持复杂查询，适合事务性操作。                               |
| **实时通信**   | Socket. Io               | 实现前后端实时双向通信（如任务状态更新）。                                 |
| **容器化**     | Docker + Docker Compose | 统一开发环境，一键部署。                                                 |
| **部署**       | Vercel（前端） + Heroku（后端） | 免费托管，快速上线。                                                   |

---

### **三、功能模块划分**
| **模块**         | **功能描述**                                                                 | **接口示例**                              |
|------------------|-----------------------------------------------------------------------------|------------------------------------------|
| **用户认证**     | 注册、登录、JWT 令牌管理。                                                   | `POST /api/auth/register`                |
| **清单管理**     | 创建清单、删除清单、获取用户所有清单。                                        | `GET /api/lists`                         |
| **待办事项**     | 添加事项、删除事项、标记完成状态、编辑标题。                                   | `POST /api/items`                        |
| **实时同步**     | 通过 WebSocket 广播数据变更事件（如事项状态更新）。                            | `socket.on('item-updated', callback)`    |
| **前端页面**     | 登录页、清单列表页、清单详情页（实时展示操作）。                               | -                                        |

---

### **四、数据库设计**
#### **ER 图**
![ER Diagram](https://i.imgur.com/5T2vX6d.png)  
（实际需绘制，以下是文字描述）

#### **关键表结构**
1. **用户表 `users`**
   ```sql
   CREATE TABLE users (
     id SERIAL PRIMARY KEY,
     username VARCHAR(50) UNIQUE,
     email VARCHAR(100) UNIQUE,
     password_hash VARCHAR(255)
   );
   ```

2. **待办清单表 `todo_lists`**
   ```sql
   CREATE TABLE todo_lists (
     id SERIAL PRIMARY KEY,
     title VARCHAR(100),
     user_id INT REFERENCES users(id) ON DELETE CASCADE
   );
   ```

3. **待办事项表 `todo_items`**
   ```sql
   CREATE TABLE todo_items (
     id SERIAL PRIMARY KEY,
     list_id INT REFERENCES todo_lists(id) ON DELETE CASCADE,
     title VARCHAR(100),
     is_completed BOOLEAN DEFAULT false,
     priority INT DEFAULT 1 -- 1: 低, 2: 中, 3: 高
   );
   ```

---

### **五、开发流程**
#### **1. 协作工具**
- **代码托管**：GitHub（主仓库 + 功能分支）。
- **任务管理**：GitHub Projects 看板（To Do / In Progress / Done）。
- **沟通**：每日站会（15 分钟） + 飞书文档（需求记录）。

#### **2. 阶段规划**
| **阶段**         | **时间** | **目标**                                                                 |
|------------------|----------|-------------------------------------------------------------------------|
| **需求与设计**   | 2 天      | 确认 ER 图、接口文档、任务拆分。                                         |
| **核心功能开发** | 5 天      | 完成用户模块、清单管理、待办事项及实时同步。                             |
| **测试与部署**   | 2 天      | 容器化部署、基础功能测试、修复关键 Bug。                                 |
| **优化与扩展**   | 后续迭代 | 添加权限管理、任务提醒、日志系统等。                                     |

#### **3. 接口规范**
- **前后端协作**：使用 [Swagger](https://swagger.io/) 或 [Postman](https://www.postman.com/) 定义接口。
- **示例接口文档**：
  ```markdown
  ### 获取用户所有清单
  **Endpoint**: `GET /api/lists`  
  **Headers**: `Authorization: Bearer <JWT_TOKEN>`  
  **响应**:
  ```json
  [
    { "id": 1, "title": "工作清单", "user_id": 1 }
  ]
  ```

---

### **六、容器化部署**
#### **1. 本地开发环境**
- **启动命令**：
  ```bash
  docker-compose up --build
  ```
- **访问地址**：
  - 前端：`http://localhost:80`
  - 后端：`http://localhost:4000`
  - 数据库：`postgres://myuser:mypassword@localhost:5432/mydb`

#### **2. 生产部署**
- **配置**：通过环境变量切换数据库连接（如 Supabase）。
- **一键部署**：GitHub Actions 自动化构建并推送至 Vercel/Heroku。

---

### **七、职责分工建议**
| **成员** | **主要职责**                                                                 | **支持方式**                            |
|----------|-----------------------------------------------------------------------------|----------------------------------------|
| **A**    | 后端核心开发（API、数据库、Socket. Io）、容器化部署、Code Review。            | 提供技术指导，Review 关键代码。          |
| **B**    | 前端页面开发（Vue 组件、接口联调）、基础后端接口实现（如增删改查）、文档维护。 | 提供组件模板，协助调试前端逻辑。          |

---

### **八、风险与应对**
| **风险**                | **应对策略**                                                                 |
|-------------------------|-----------------------------------------------------------------------------|
| **进度不一致**          | 每日站会同步进度，动态调整任务分配。                                          |
| **接口联调问题**        | 使用 Mock 数据先行开发，定期联调验证。                                        |
| **部署失败**            | 保留手动部署备选方案（如直接上传代码至服务器）。                              |
| **成员技术瓶颈**        | 结对编程、提供代码片段参考（如 JWT 实现）。                                   |

---

### **九、附录**
#### **1. 工具与资源**
- **Vue 3 入门**：[Vue 官方教程](https://vuejs.org/guide/introduction.html)
- **Express 示例**：[Express Hello World](https://expressjs.com/en/starter/hello-world.html)
- **Docker 入门**：[Docker 官方文档](https://docs.docker.com/get-started/)

#### **2. 项目仓库**
- **GitHub 地址**：`https://github.com/your-username/todo-collab-system`

---

**备注**：此文档为动态更新文件，随项目进展调整。  
**最后更新日期**：2025-5-14 

--- 
